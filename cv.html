<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CV · PuppetX</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="assets/favicon.png" />
  <style>.active-link{font-weight:600}</style>
</head>
<body class="min-h-screen bg-white text-zinc-900">
  <!-- Header (consistent) -->
  <header class="sticky top-0 z-50 bg-white border-b border-zinc-200">
    <div class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="font-semibold tracking-tight text-zinc-900">Lenny Filler · PuppetX</a>
      <nav class="hidden md:flex gap-6 text-sm">
        <a href="index.html" class="text-zinc-900">Home</a>
        <a href="works.html" class="text-zinc-900">Works</a>
        <a href="statement.html" class="text-zinc-900">Statement</a>
        <a href="apps-gear.html" class="text-zinc-900">Apps &amp; Gear</a>
        <a href="cv.html" class="text-zinc-900">CV</a>
        <a href="contact.html" class="text-zinc-900">Contact</a>
      </nav>
      <button id="menuBtn" class="md:hidden p-2 rounded border border-zinc-300 text-zinc-900" aria-expanded="false" aria-controls="mobileNav" aria-label="Toggle menu">☰</button>
    </div>
    <nav id="mobileNav" class="md:hidden hidden border-t border-zinc-200 bg-white">
      <div class="mx-auto max-w-6xl px-4 py-3 grid gap-3 text-sm text-zinc-900">
        <a href="index.html">Home</a>
        <a href="works.html">Works</a>
        <a href="statement.html">Statement</a>
        <a href="apps-gear.html">Apps &amp; Gear</a>
        <a href="cv.html">CV</a>
        <a href="contact.html">Contact</a>
      </div>
    </nav>
  </header>

  <!-- HERO: full-bleed background Vimeo (no bars) -->
  <section class="relative h-[calc(100vh-57px)] overflow-hidden"> <!-- 57px ≈ header height -->
    <!-- Vimeo background player (fills container, muted, loops, no controls) -->
    <iframe
      id="bgVimeo"
      class="absolute inset-0 w-full h-full"
      src="https://player.vimeo.com/video/VIMEO_ID_HERE?background=1&autoplay=1&muted=1&loop=1&byline=0&title=0&portrait=0&dnt=1"
      frameborder="0" allow="autoplay; fullscreen; picture-in-picture" title="CV Reel Background">
    </iframe>

    <!-- Soft overlay for contrast -->
    <div class="absolute inset-0 bg-black/20"></div>

    <!-- Center overlay content -->
    <div class="relative z-10 h-full flex items-center justify-center">
      <div class="text-center px-4">
        <h1 class="text-white text-3xl md:text-5xl font-semibold drop-shadow-sm">Curriculum Vitae</h1>
        <p class="text-white/90 mt-3 drop-shadow-sm">Tap to play with sound. When it ends, you can download my CV.</p>

        <button id="openModal"
          class="mt-6 inline-flex items-center gap-2 bg-white text-zinc-900 px-5 py-3 rounded-full shadow hover:bg-zinc-100">
          ▶️ Play with sound
        </button>
      </div>
    </div>
  </section>

  <!-- Modal with normal Vimeo player (audio + controls) -->
  <div id="videoModal" class="fixed inset-0 z-[60] hidden">
    <!-- Backdrop -->
    <div class="absolute inset-0 bg-black/70"></div>

    <!-- Player box -->
    <div class="relative mx-auto w-full max-w-5xl px-4 md:px-6 pt-16">
      <div class="relative w-full rounded-2xl overflow-hidden shadow-2xl bg-black" style="padding-top:56.25%;">
        <iframe
          id="vimeoPlayer"
          class="absolute inset-0 w-full h-full"
          src="https://player.vimeo.com/video/1110648398?autoplay=1&muted=0&loop=0&autopause=0&title=0&byline=0&portrait=0&dnt=1&playsinline=1"
          frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen title="CV Reel">
        </iframe>
      </div>

      <!-- Controls row -->
      <div class="flex items-center justify-between mt-4">
        <button id="closeModal" class="text-white/90 hover:text-white underline">Close</button>

        <!-- Hidden until video ends -->
        <a id="downloadBtn"
           href="assets/Lenny-Filler-CV.pdf" download="Lenny-Filler-CV.pdf"
           class="opacity-0 pointer-events-none transition-opacity duration-300 ease-out
                  inline-flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-full shadow">
          ⬇ Download CV (PDF)
        </a>
      </div>
    </div>
  </div>

  <footer class="border-t border-zinc-200 mt-16">
    <div class="mx-auto max-w-6xl px-4 py-6 flex flex-col items-center gap-2 text-center">
      <a href="index.html">
        <img src="assets/favicon2.png" alt="LenzF logo" class="w-[84px] h-[84px]" loading="lazy" decoding="async">
      </a>
      <a href="index.html" class="font-semibold text-sm tracking-wide">LenzF</a>
      <p class="text-xs text-zinc-600">© <span id="year"></span> All rights reserved.</p>
    </div>
  </footer>

  <!-- Vimeo Player API -->
  <script src="https://player.vimeo.com/api/player.js"></script>

  <script>
    // Mobile nav
    const btn = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    btn && btn.addEventListener('click', () => {
      const open = mobileNav.classList.toggle('hidden') === false;
      btn.setAttribute('aria-expanded', String(open));
    });

    // Modal logic
    const openModal  = document.getElementById('openModal');
    const closeModal = document.getElementById('closeModal');
    const modal      = document.getElementById('videoModal');
    const dlBtn      = document.getElementById('downloadBtn');

    // Vimeo player inside modal
    const iframe = document.getElementById('vimeoPlayer');
    const player = new Vimeo.Player(iframe);

    openModal.addEventListener('click', () => {
      modal.classList.remove('hidden');
      // ensure starts with sound when user explicitly clicked
      player.setCurrentTime(0).then(() => player.play());
    });

    closeModal.addEventListener('click', () => {
      player.pause();
      modal.classList.add('hidden');
      // hide download if they close before end
      dlBtn.classList.add('opacity-0','pointer-events-none');
    });

    // Show Download CV when the video ends
    player.on('ended', () => {
      dlBtn.classList.remove('opacity-0','pointer-events-none');
    });

    // Esc to close modal
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
        closeModal.click();
      }
    });

    // Year
    const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();
  </script>
</body>
</html>
